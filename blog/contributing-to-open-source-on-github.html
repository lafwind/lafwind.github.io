
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>Lafwind - 如何为Github上的开源项目贡献代码</title>
    <link href="../stylesheets/all.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/blog_article.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/syntax.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/syntax_jekyll.css" rel="stylesheet" type="text/css" />
    <script src="../javascripts/all.js" type="text/javascript"></script>

    <!-- Source Han Sans Simplified Chinese -->
    <script src="https://use.typekit.net/oqv5rhf.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
  </head>
  <body>
    <div id="blog_detail">
      <div class="bar_line">
      </div>
      <header>
        <nav>
<a href="../blog.html">            <span>&lt&lt</span> Blog
</a>        </nav>
      </header>
      <div class="article">
        <div class="blog_title">
          <p>如何为Github上的开源项目贡献代码</p>
        </div>
        <div class="blog_time">
          <p>Mar 15, 2015</p>
        </div>

        <div class="content">
          <p>以前一直只将Github作为自己的代码仓库，当然也start了好多项目，但却从未尝试过它的另一个重要功能：协作开发。当然，为开源项目贡献代码一直是自己想做的，之所以未曾做过，主要原因是没信心，觉得自己能力还不够，拖着拖着就到现在了（和写博客有异曲同工之处= =）。而之所以现在开始的原因嘛，很直接，不想拖了！当然担心还是有的，不过谁不是一步一步开始的呢~~</p>

<p>下文讲的是向开源项目提交代码的流程，尽量简洁。</p>

<p><em>假设你所要贡献代码的开源项目为<strong>A</strong>，具体流程如下：</em></p>

<p>1 查看项目的CONTRIBUTING。这是项目所有者所希望的贡献者参与项目和提交代码时的规范。一般在项目里或README介绍里会有该文件或该内容。应根据这些内容来执行下面的步骤。比如：</p>

<blockquote>
<p><strong>Contributing</strong></p>

<ol>
<li>Fork it</li>
<li>Create your feature branch (git checkout -b my-new-feature)</li>
<li>Commit your changes (git commit -am &lsquo;Add some feature&rsquo;)</li>
<li>Push to the branch (git push origin my-new-feature)</li>
<li>Create new Pull Request</li>
</ol>
</blockquote>

<p>2 Fork该项目。到该项目github页面上，点击位于右上角的<code>Fork</code>按钮。此后该项目就会出现在自己的repo页，称为<strong>B</strong>。</p>

<p>3 回到自己的github repo页，将自己fork的项目（<strong>B</strong>）clone到本地。</p>
<pre class="highlight shell"><code>  <span class="nv">$ </span>git clone https://github.com/YOURNAME/YOURFORK.git <span class="c"># (B)</span>
</code></pre>

<p>4 设定一个远端upstream repo，此时即原始的项目<strong>A</strong>。因为之后你修改的代码是要回到这里的，这也才能达到贡献的目的。</p>
<pre class="highlight shell"><code>  <span class="nv">$ </span>git remote add upstream https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git <span class="c"># (A)</span>
</code></pre>

<p>完成上述两个步骤后，可以使用以下命令，看看有没有添加完成：</p>
<pre class="highlight shell"><code>  <span class="nv">$ </span>git remote -v <span class="c">#应该看到fork后自己的repo和公共项目的repo</span>
</code></pre>

<p>5 同步远端上游库（upstream repo，即<strong>A</strong>），这能让你的代码保持最新。之后如持续为项目提交代码，应时常进行该同步。
  &ldquo;`shell
  $ git fetch upstream</p>

<p># 回到自己的master分支
  $ git checkout master</p>

<p># 合并刚刚同步的upstream/master 最新版本
  $ git merge upstream/master
  &rdquo;`</p>

<p>6 为该项目建立一个feature分支。</p>
<pre class="highlight shell"><code>  <span class="nv">$ </span>git checkout -b feature
</code></pre>

<p>7 修改或添加代码。</p>

<p>8 commit 并 push 到自己的远端仓库（即<strong>B</strong>）。此时你可以选择push这feature分支，或者将它合到你的master分支再提交都可。具体应该参考这个项目的CONTRIBUTING。</p>
<pre class="highlight shell"><code>  <span class="c"># 先git add 和 git commit</span>
  <span class="nv">$ </span>git push -u origin feature <span class="c"># 取决于CONTRIBUTING或你</span>
</code></pre>

<p>9 然后回到自己的github页面，在branch选择部分选取自己刚修改的那个分支。选完后点选左边绿色按钮。这时开始<code>pull request</code>。这时会看到自己修改后的代码分支和upstrean（<strong>A</strong>）的比较页面。如没问题，直接提交。</p>

<p>填写一些相应信息（如自己的这个feature分支解决了什么问题或有什么功能等）。</p>

<p>以上就是提交代码的整个流程。如再有新的提交重复5-9即可。</p>

<p>执行好上述几个步骤即可以为开源项目提交代码。不过如果想见到这些修改真的合并到这个主项目。你还需要等待项目所有者的审核。如果ok，那就皆大欢喜。不ok的话，则你还可在继续修改，继续提交。一切由你。</p>

<p>还有注意的是，经常看issue（可能是一些bug反馈，一些项目建议什么的）和pull request（并不是自己去pull request，而是看别人的，点击项目右边的相应链接，在code栏下），可以更好的融入到该项目的节奏中，也更好的达到协作开发的目的。推荐Github官方出品的<a href="https://guides.github.com/activities/contributing-to-open-source/">教程</a>和<a href="http://blog.ploeh.dk/2015/01/15/10-tips-for-better-pull-requests/">10 tips for better Pull Requests</a>（<a href="http://www.oschina.net/news/59961/pull-reques-ten-suggestion">中文</a>）这篇文章，更好的了解协作过程中的“礼仪”。</p>

<p>好了，开始享受这份乐趣吧!</p>

<p>如下是参考链接：</p>

<ul>
<li><p><a href="https://guides.github.com/activities/contributing-to-open-source/">Contributing to Open Source on GitHub（官方guide）</a></p></li>
<li><p><a href="https://help.github.com/articles/configuring-a-remote-for-a-fork/">Configuring a remote for a fork</a></p></li>
<li><p><a href="https://help.github.com/articles/syncing-a-fork/">Syncing a fork</a></p></li>
<li><p><a href="https://help.github.com/articles/syncing-a-fork/">Creating a pull request</a></p></li>
</ul>

        </div>

      </div>

      <div class="comments">
        <div id="disqus_thread"></div>
<script type="text/javascript">
//<![CDATA[
                  var disqus_shortname = 'lafwind';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        <script type="text/javascript">
//<![CDATA[
    var disqus_shortname = 'lafwind';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script>

      </div>

      <footer>
        <p>©2015 Lafwind </p>
        <p>Theme is designed by <a href="../">Lafwind</a></p>
      </footer>
    </div>
  </body>
</html>
